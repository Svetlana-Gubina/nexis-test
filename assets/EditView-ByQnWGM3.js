import{F as v,L as b}from"./Form-CpKKSx84.js";import{d as h,s as x,f as i,x as g,o as r,c as k,p as w,k as D,e as V,F,q as B,_ as C}from"./index-B8MfEaSi.js";import{u}from"./store-D9Jhcldj.js";const E=h({__name:"EditView",props:{id:{}},setup(l){const c=u(),{setData:d}=u(),{data:o}=x(c),p=l,f={id:-1,title:"",description:"",published:!0,published_from:new Date},n=i({id:-1,title:"",description:"",published:!0,published_from:new Date}),s=i(!1),m=B(),_=e=>{s.value=!0,console.log("editedtem",e);let t=[...o.value];t.findIndex(a=>a.id===e.id)!==-1&&(t=t.filter(a=>a.id!==e.id),t.push(e),d(t)),setTimeout(()=>{s.value=!1,m.push({name:"Home"})},1e3)};return g(()=>{o.value&&o.value.length&&(n.value=o.value.find(e=>e.id===Number(p.id))||f)}),(e,t)=>(r(),k(F,null,[s.value?(r(),w(b,{key:0})):D("",!0),V(v,{title:"Редактирование сущности","submit-btn-text":"Сохранить",info:n.value,onSuccess:_},null,8,["info"])],64))}}),R=C(E,[["__scopeId","data-v-7b470597"]]);export{R as default};
